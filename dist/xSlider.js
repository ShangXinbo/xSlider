"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery||Zepto)}(function(e){return e?void e.fn.extend({GeoSlider:function(t){var n={auto:!0,foot:1,scrollNum:1,direction:"right",controls:!0,interval:2e3,speed:300,hover:!1,refresh:!0},t=e.extend(n,t);return this.each(function(){var n,o,i,s,l=e(this),a=l.find("ul"),r=a.find("li"),c=0,f={init:function(){n=100*t.scrollNum+"%",o=Math.ceil(r.length/t.scrollNum),i=!1,s="",r.length>1&&(a.css({width:100*(r.length+2*t.scrollNum)+"%","margin-left":100*-t.scrollNum+"%",left:"0"}),r.css({"float":"left",listStyle:"none",width:100/(r.length+2*t.scrollNum)+"%"}),a.html(r.slice(0).clone()),a.append(r.slice(0,t.scrollNum).clone()),a.prepend(r.slice(-t.scrollNum).clone()),this.set())},set:function(){var n=this;if(t.controls&&(l.append('<div class="geo-slider-pn"><span class="prev"><i></i></span><span class="next"><i></i></span></div>'),l.find(".geo-slider-pn").on("click",".next",function(e){n.stopAuto(),n.toNext(),n.autoPlay()}).on("click",".prev",function(e){n.stopAuto(),n.toPrev(),n.autoPlay()})),1==t.foot){for(var s='<div class="geo-slider-page">',a=0;o>a;a++)s+=0==a?'<span class="active"></span>':"<span></span>";s+="</div>",l.append(s).find(".geo-slider-page").on("click","span",function(){if(!i){var t=e(".geo-slider-page span",l).index(e(this));n.stopAuto(),n.animate(t),n.autoPlay()}})}if(2==t.foot){var s='<div class="geo-slider-page"><p><font>1</font>/'+o+"</p></div>";l.append(s)}t.hover&&l.hover(function(){n.stopAuto()},function(){n.autoPlay()}),this.autoPlay()},autoPlay:function(){var e=this;t.auto&&(s=setInterval(function(){"left"==t.direction?e.toPrev():e.toNext()},t.interval))},stopAuto:function(){t.auto&&clearInterval(s)},animate:function(e){i=!0;var n=this;a.animate({left:"-"+100*e+"%"},t.speed,function(){0>e?(c=o-1,a.css("left",100*-(o-1)+"%")):e>=o?(c=0,a.css("left",0)):c=e,n.setPosition(c),i=!1})},toNext:function(){if(!i){i=!0;var e=c+1;this.animate(e)}},toPrev:function(){if(!i){i=!0;var e=c-1;this.animate(e)}},setPosition:function(e,n){1==t.foot?l.find(".geo-slider-page").find("span").removeClass("active").eq(e).addClass("active"):l.find(".geo-slider-page").find("font").html(e+1)},destroy:function(){r.length>1&&(t.controls&&e(".geo-slider-pn",l).remove(),1==t.foot&&l.find(".geo-slider-page").remove(),this.stopAuto(),i=!1)}};f.init()})}}):console.warn("GeoSlider needs jQuery")});